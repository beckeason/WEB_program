{"remainingRequest":"F:\\web\\front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!F:\\web\\front\\src\\views\\Customer.vue?vue&type=style&index=0&id=699cf318&scoped=true&lang=css","dependencies":[{"path":"F:\\web\\front\\src\\views\\Customer.vue","mtime":1701329807805},{"path":"F:\\web\\front\\node_modules\\css-loader\\dist\\cjs.js","mtime":1701176871745},{"path":"F:\\web\\front\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1701176877245},{"path":"F:\\web\\front\\node_modules\\postcss-loader\\src\\index.js","mtime":1701176875970},{"path":"F:\\web\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1701176870203},{"path":"F:\\web\\front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1701176877241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZWwtcm93IHsNCiAgbWFyZ2luLWJvdHRvbTogMjBweDsNCn0NCi5lbC1jb2wgew0KICBib3JkZXItcmFkaXVzOiA0cHg7DQp9DQouYm90dG9tIHsNCiAgbWFyZ2luLXRvcDogMTNweDsNCiAgbGluZS1oZWlnaHQ6IDEycHg7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCg0KLmJ1dHRvbiB7DQogIHBhZGRpbmc6IDA7DQogIG1pbi1oZWlnaHQ6IGF1dG87DQp9DQoNCi5pbWFnZSB7DQogIHdpZHRoOiAxMDAlOw0KICBkaXNwbGF5OiBibG9jazsNCn0NCi5lbC1jYXJvdXNlbF9faXRlbSBoMyB7DQogIGNvbG9yOiAjNDc1NjY5Ow0KICBvcGFjaXR5OiAwLjc1Ow0KICBsaW5lLWhlaWdodDogMjAwcHg7DQogIG1hcmdpbjogMDsNCiAgdGV4dC1hbGlnbjogY2VudGVyO30NCiAgLmVsLWNhcm91c2VsX19pdGVtOm50aC1jaGlsZCgybikgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTlhOWJmOw0KfQ0KDQouZWwtY2Fyb3VzZWxfX2l0ZW06bnRoLWNoaWxkKDJuICsgMSkgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDNkY2U2Ow0KfQ0KLmV4YW1wbGUtc2hvd2Nhc2UgLmVsLWRyb3Bkb3duICsgLmVsLWRyb3Bkb3duIHsNCiAgbWFyZ2luLWxlZnQ6IDE1cHg7DQp9DQouZXhhbXBsZS1zaG93Y2FzZSAuZWwtZHJvcGRvd24tbGluayB7DQogIGN1cnNvcjogcG9pbnRlcjsNCiAgY29sb3I6IHdoaXRlOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KfQ0K"},{"version":3,"sources":["F:\\web\\front\\src\\views\\Customer.vue"],"names":[],"mappings":"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","file":"F:/web/front/src/views/Customer.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div style=\"background-color: #fdf6ec\">\r\n    <el-dropdown>\r\n      <el-button type=\"primary\">类别<el-icon class=\"el-icon--right\"><arrow-down /></el-icon>\r\n      </el-button>\r\n      <template #dropdown>\r\n        <el-dropdown-menu>\r\n          <el-dropdown-item @click=\"handleClick(0)\">全部</el-dropdown-item>\r\n        <el-dropdown-item v-for=\"index in category\" @click=\"handleClick(index.cateId)\">{{index.catename}}</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </template>\r\n    </el-dropdown>\r\n    <!--    搜索区域-->\r\n      <el-input v-model=\"search\" placeholder=\"请输入关键字\" style=\"width: 20%;border-bottom-color: black\" clearable></el-input>\r\n      <el-button type=\"primary\" style=\"margin-left:  10px ;background-color: #337ecc; color: white;border-color: white;\" @click=\"load\">查询</el-button>\r\n    \r\n    <!-- <el-sub-menu index=\"category\" v-if=\" user.role===1\">\r\n          <template #title>\r\n            <el-icon><more /></el-icon>\r\n            <span>类别</span>\r\n          </template>\r\n            <el-menu-item  v-for=\"(o, index) in tableData.length\"\r\n            :key=\"o\"\r\n            :span=\"110\"\r\n            :offset=\"1\">\r\n            <span slot=\"title\">{{ tableData[index].catename }}</span>\r\n            </el-menu-item>\r\n          </el-sub-menu> -->\r\n     <el-carousel :interval=\"4000\" type=\"card\" height=\"200px\">\r\n    <el-carousel-item  v-for=\"(o, index) in tableData.length\"\r\n            :key=\"o\"\r\n            :span=\"110\" \r\n            :offset=\"1\">\r\n      <h3 text=\"2xl\" justify=\"center\"><el-image\r\n                style=\"width: 300px; height:200px\"\r\n                :src=\"tableData[index].cover\"\r\n                fit=\"cover\"\r\n                class=\"image\"\r\n            /></h3>\r\n    </el-carousel-item>\r\n  </el-carousel> \r\n    <div>\r\n      <el-row>\r\n        <el-col\r\n            v-for=\"(o, index) in tableData.length\"\r\n            :key=\"o\"\r\n            :span=\"110\"\r\n            :offset=\"1\"\r\n        >\r\n          <el-card\r\n              style=\"width: 300px; height:430px\"\r\n\r\n              :body-style=\"{ padding: '0px' }\">\r\n            <el-image\r\n                style=\"width: 300px; height:300px\"\r\n                :src=\"tableData[index].cover\"\r\n                fit=\"cover\"\r\n                class=\"image\"\r\n            />\r\n            <div style=\"padding: 14px\">\r\n              <span style=\"font-weight: bold;\" >{{tableData[index].name}}</span>\r\n              <div style=\"color:gray;\">{{tableData[index].price+\"元\"}}</div>\r\n              <div class=\"bottom\">\r\n                <el-button plain @click=\"handleEdit( tableData[index])\" >查看详情</el-button>\r\n              </div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n\r\n    <div>\r\n      <el-row>\r\n        <!--    以下是显示页面码-->\r\n        <el-pagination\r\n            v-model:current-page=\"currentPage\"\r\n            :page-sizes=\"[10, 20, 25]\"\r\n            :page-size=\"10\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"total\"\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n        >\r\n        </el-pagination>\r\n      </el-row>\r\n      <el-dialog v-model=\"dialogFormVisible\" title=\"添加\">\r\n        <el-form\r\n            :rules=\"rules\"\r\n            :model=\"form\"\r\n            label-width=\"120px\">\r\n          <el-form-item >\r\n            <el-image\r\n                style=\"width: 300px; height:300px\"\r\n                :src=\"form.cover\"\r\n                fit=\"cover\"\r\n                class=\"image\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"名称\" >\r\n            <el-input disabled v-model=\"form.name\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"价格\" >\r\n            <el-input disabled v-model=\"form.price\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"类别\" >\r\n            <el-input disabled v-model=\"form.category\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"出厂时间\" >\r\n            <el-date-picker disabled v-model=\"form.createTime\" fvalue-format=\"YYYY-MM-DD\" type=\"date\" style=\"width: 80%\" clearable></el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item prop=\"num\" label=\"购买数量\" >\r\n            <el-input\r\n                v-model=\"form.num\"\r\n                autocomplete=\"off\"\r\n                style=\"width: 80%\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"AddToCard\" style=\"margin-left:  5px ;background-color: black; color: white;border-color: white;\"\r\n        >放入购物车</el-button\r\n        >\r\n      </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"../../utils/request\";\r\nimport { UploadFilled } from '@element-plus/icons'\r\nimport { ArrowDown } from '@element-plus/icons'\r\n\r\nexport default {\r\n  name: 'customer' ,\r\n  components:{\r\n    UploadFilled,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      dialogFormVisible:false,\r\n      drawer:false,\r\n      form:{\r\n      },\r\n      currentPage :1,\r\n      tableData: [\r\n      ],\r\n      category:[],\r\n      rules: {\r\n        num: [\r\n          {\r\n            required: true,\r\n            message: '请输入数量',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n      },\r\n      search: '',\r\n      ID:0,\r\n      total:10,\r\n      dialogImageUrl: '',\r\n      shoppingCart:{\r\n      },\r\n      user:{},\r\n      log_form:{},\r\n    }\r\n  },\r\n  created() {\r\n    let str = sessionStorage.getItem(\"user\")\r\n    this.user = JSON.parse(str)\r\n    this.load()\r\n\r\n  },\r\n  methods: {\r\n    filesUploadSuccess(res,file){\r\n      console.log(res)\r\n      this.form.cover=res.data\r\n\r\n    },\r\n    load(){\r\n      console.log(this.search)\r\n      if(this.ID===0)\r\n      {request.get(\"/goods\",{\r\n        params:{\r\n          pageNum: this.currentPage,\r\n          pageSize: this.pageSize,\r\n          search: this.search\r\n        }\r\n      }).then(res=>{\r\n        console.log(res)\r\n        this.tableData=res.data.records\r\n        this.total=res.data.total\r\n        \r\n      })\r\n      request.get(\"/category\",{\r\n    \r\n      }).then(res=>{\r\n        console.log(res)\r\n        this.category=res.data\r\n\r\n        \r\n      })\r\n    }\r\n    else{\r\n      console.log(this.ID)\r\n      request.get(\"/goods/type\",{\r\n        params:{\r\n          cateid:this.ID\r\n        }\r\n      }).then(res=>{\r\n        console.log(res)\r\n        this.tableData=res.data.records\r\n        this.total=res.data.total\r\n        \r\n      })\r\n    }},\r\n    AddToCard(){\r\n      if(this.form.id) {\r\n        this.shoppingCart.userId = this.user.id+ ''\r\n        this.shoppingCart.storageId = this.form.id+ ''\r\n        this.shoppingCart.num = this.form.num\r\n        this.shoppingCart.role = this.user.role\r\n        //update\r\n        console.log(\"start\")\r\n        console.log(this.shoppingCart)\r\n        console.log(\"end\")\r\n        request.post(\"/Cart\", this.shoppingCart).then(res => {\r\n          console.log(res)\r\n          if (res.code === '0') {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"已加入购物车\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n          this.load()\r\n          this.dialogFormVisible = false\r\n        })\r\n      }\r\n    },\r\n\r\n    detail(row){\r\n      this.form=JSON.parse(JSON.stringify(row))\r\n      this.dialogFormVisible=true\r\n      this.$nextTick(()=>{\r\n        this.$refs['upload'].clearFiles()\r\n      })\r\n    },\r\n    handleClick(cateId) {\r\n    this.ID = cateId;\r\nthis.load()\r\n  },\r\n    handleEdit(row) {\r\n      this.form=JSON.parse(JSON.stringify(row))\r\n      this.form.num=1\r\n      this.dialogFormVisible=true\r\n      this.log_form.userId=this.user.id+ ''\r\n      this.log_form.storageId=this.form.id+ ''\r\n      this.log_form.action=\"浏览\"\r\n      console.log(this.log_form)\r\n      request.post(\"/logController\",this.log_form).then(res => {\r\n        console.log(res)\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            type: \"成功\",\r\n            message: \"浏览日志保存成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: res.msg\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleSizeChange(pageSize){\r\n      this.pageSize=pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum){//改变页码\r\n      this.currentPage=pageNum\r\n      this.load()\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.el-row {\r\n  margin-bottom: 20px;\r\n}\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n.bottom {\r\n  margin-top: 13px;\r\n  line-height: 12px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.button {\r\n  padding: 0;\r\n  min-height: auto;\r\n}\r\n\r\n.image {\r\n  width: 100%;\r\n  display: block;\r\n}\r\n.el-carousel__item h3 {\r\n  color: #475669;\r\n  opacity: 0.75;\r\n  line-height: 200px;\r\n  margin: 0;\r\n  text-align: center;}\r\n  .el-carousel__item:nth-child(2n) {\r\n  background-color: #99a9bf;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n + 1) {\r\n  background-color: #d3dce6;\r\n}\r\n.example-showcase .el-dropdown + .el-dropdown {\r\n  margin-left: 15px;\r\n}\r\n.example-showcase .el-dropdown-link {\r\n  cursor: pointer;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style>"]}]}